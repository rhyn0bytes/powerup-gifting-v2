(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),s=n.n(c),o=(n(79),n(80),n(81),n(115)),i=n(111),u=n(117),l=n(27),d=n(11),j=n.n(d),b=n(23),p=n(18),h=n(8),f=n(31),O=n(33),m=n(34),g=n(71),x=n.n(g),v=new(function(){function e(){Object(O.a)(this,e),this.client=void 0,this.client=x.a.create({baseURL:"/api/"})}return Object(m.a)(e,[{key:"register",value:function(e){return this.client.post("signup",{user:e})}},{key:"login",value:function(e){return this.client.post("login",{user:e})}},{key:"logout",value:function(e){return this.client.delete("logout",{headers:{Authorization:null===e?"":e}})}},{key:"currentUser",value:function(e){return this.client.get("current_user",{headers:{Authorization:null===e?"":e,ContentType:"application/json"}})}}]),e}()),w=Object(f.b)("login",function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,r=n.rejectWithValue,e.prev=2,e.next=5,v.login(a);case 5:return c=e.sent,e.abrupt("return",{user:c.data,token:c.headers.authorization});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",r("Invalid email or password."));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(f.b)("logout",function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,r=n.rejectWithValue,!(c=a().auth.authToken)){e.next=9;break}return e.next=5,v.logout(c);case 5:return s=e.sent,e.abrupt("return",s.data);case 9:return e.abrupt("return",r("You dun' goofed"));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),y=Object(f.b)("signup",function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.user,r=n.rejectWithValue,a.password===a.password_confirmation){e.next=4;break}return e.abrupt("return",r("Password does not match Password Confirmation."));case 4:return e.prev=4,e.next=7,v.register(a);case 7:return c=e.sent,e.abrupt("return",{user:c.data,token:c.headers.authorization});case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",r("Email is already taken."));case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}()),C=Object(f.b)("getCurrentUser",function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,r=n.rejectWithValue,!(c=a().auth.authToken)){e.next=9;break}return e.next=5,v.currentUser(c);case 5:return s=e.sent,e.abrupt("return",s.data);case 9:return e.abrupt("return",r("You dun' goofed"));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),N={loading:!1,authToken:window.localStorage.getItem("token")},S=Object(f.c)({name:"auth",reducers:{},initialState:N,extraReducers:function(e){e.addCase(w.pending,(function(e){e.loading=!0})).addCase(w.fulfilled,(function(e,t){var n=t.payload,a=n.user,r=n.token;e.loading=!1,e.user=a,e.authToken=r,e.error=void 0,window.localStorage.setItem("token",r)})).addCase(w.rejected,(function(e,t){var n=t.payload;e.loading=!1,e.error=n})).addCase(y.pending,(function(e){e.loading=!0})).addCase(y.fulfilled,(function(e,t){var n=t.payload,a=n.user,r=n.token;e.loading=!1,e.user=a,e.authToken=r,e.error=void 0,window.localStorage.setItem("token",r)})).addCase(y.rejected,(function(e,t){var n=t.payload;console.log(n),e.loading=!1,e.error=n})).addCase(C.pending,(function(e){})).addCase(C.fulfilled,(function(e,t){var n=t.payload;e.user=n})).addCase(C.rejected,(function(e){})).addCase(k.fulfilled,(function(e){window.localStorage.removeItem("token"),e.authToken=null,e.user=void 0})).addCase(k.rejected,(function(e){window.localStorage.removeItem("token"),e.authToken=null,e.user=void 0}))}}),I=function(e){return e.auth.authToken},T=function(e){return e.auth.loading},L=function(e){return e.auth.error},P=S.reducer,E=(S.actions,P);function B(){var e=Object(p.b)(),t=Object(p.c)(I),n=Object(h.g)().push,a=t,r=function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e(k()),n("/");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{authenticated:a,login:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:r}}var G=n(1);var U=function(){var e=B(),t=e.authenticated,n=e.logout;return Object(G.jsx)(o.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(G.jsxs)(i.a,{children:[Object(G.jsx)(o.a.Brand,{as:l.b,to:"/",children:"Gifting v2"}),Object(G.jsx)(o.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(G.jsxs)(o.a.Collapse,{id:"responsive-navbar-nav",children:[Object(G.jsx)(u.a,{className:"me-auto",children:t?Object(G.jsx)(u.a.Link,{as:l.b,to:"/Wishes",children:"Wishes"}):null}),t?Object(G.jsx)(u.a,{children:Object(G.jsx)(u.a.Link,{onClick:n,children:"Logout"})}):Object(G.jsxs)(u.a,{children:[Object(G.jsx)(u.a.Link,{as:l.b,to:"/login",children:"Login"}),Object(G.jsx)(u.a.Link,{as:l.b,to:"/signup",children:"Signup"})]})]})]})})};var W=function(){return Object(G.jsx)("div",{children:"Home Page Baby!"})},_=n(6),z=n(2),D=n(10),F=n(112),V=n(74),A=n(118),J=n(116),R=n(113),Y=n(114);var H=function(){var e=Object(p.b)(),t=Object(h.g)().push,n=B().authenticated;Object(a.useEffect)((function(){n&&t("/wishes")}),[n,t]);var r=Object(p.c)(L),c=Object(p.c)(T),s=Object(a.useState)({email:"",password:""}),o=Object(D.a)(s,2),u=o[0],l=o[1],d=function(e){var t=e.target,n=t.id,a=t.value;l((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(_.a)({},n,a))}))},f=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(w({user:u}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsx)(i.a,{children:Object(G.jsx)(F.a,{children:Object(G.jsx)(V.a,{sm:9,md:7,lg:5,className:"mx-auto",children:Object(G.jsx)(A.a,{className:"border-0 shadow rounded-3 my-5",children:Object(G.jsxs)(A.a.Body,{className:"p-4 p-sm-5",children:[Object(G.jsx)(A.a.Title,{className:"text-center mb-5 fw-light fs-5",children:"Sign In"}),Object(G.jsxs)(J.a,{onSubmit:function(e){e.preventDefault(),f()},children:[Object(G.jsxs)(J.a.Group,{className:"form-floating mb-3",controlId:"email",children:[Object(G.jsx)(J.a.Control,{type:"email",placeholder:"Enter email",value:u.email,onChange:d}),Object(G.jsx)(J.a.Label,{children:"Email address"})]}),Object(G.jsxs)(J.a.Group,{className:"form-floating mb-3",controlId:"password",children:[Object(G.jsx)(J.a.Control,{type:"password",placeholder:"Password",value:u.password,onChange:d}),Object(G.jsx)(J.a.Label,{children:"Password"})]}),Object(G.jsx)("div",{className:"d-grid",children:Object(G.jsx)(R.a,{variant:"primary",disabled:c,type:"submit",className:"btn-login text-uppercase fw-bold mb-3",children:"Sign In"})}),r?Object(G.jsx)(Y.a,{variant:"danger",className:"mb-0",children:r}):null]})]})})})})})};var M=function(){var e=Object(p.b)(),t=Object(p.c)(L),n=Object(p.c)(T),r=Object(a.useState)({email:"",password:"",password_confirmation:""}),c=Object(D.a)(r,2),s=c[0],o=c[1],u=function(e){var t=e.target,n=t.id,a=t.value;o((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(_.a)({},n,a))}))},l=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(y({user:s}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsx)(i.a,{children:Object(G.jsx)(F.a,{children:Object(G.jsx)(V.a,{sm:9,md:7,lg:5,className:"mx-auto",children:Object(G.jsx)(A.a,{className:"border-0 shadow rounded-3 my-5",children:Object(G.jsxs)(A.a.Body,{className:"p-4 p-sm-5",children:[Object(G.jsx)(A.a.Title,{className:"text-center mb-5 fw-light fs-5",children:"Sign Up"}),Object(G.jsxs)(J.a,{onSubmit:function(e){e.preventDefault(),l()},children:[Object(G.jsxs)(J.a.Group,{className:"form-floating mb-3",controlId:"email",children:[Object(G.jsx)(J.a.Control,{type:"email",placeholder:"Enter email",value:s.email,onChange:u}),Object(G.jsx)(J.a.Label,{children:"Email address"})]}),Object(G.jsxs)(J.a.Group,{className:"form-floating mb-3",controlId:"password",children:[Object(G.jsx)(J.a.Control,{type:"password",placeholder:"Password",value:s.password,onChange:u}),Object(G.jsx)(J.a.Label,{children:"Password"})]}),Object(G.jsxs)(J.a.Group,{className:"form-floating mb-3",controlId:"password_confirmation",children:[Object(G.jsx)(J.a.Control,{type:"password",placeholder:"Password Confirmation",value:s.password_confirmation,onChange:u}),Object(G.jsx)(J.a.Label,{children:"Password Confirmation"})]}),Object(G.jsx)("div",{className:"d-grid",children:Object(G.jsx)(R.a,{variant:"primary",disabled:n,type:"submit",className:"btn-login text-uppercase fw-bold mb-3",children:"Sign Up"})}),t?Object(G.jsx)(Y.a,{variant:"danger",className:"mb-0",children:t}):null]})]})})})})})};var q=function(){return Object(G.jsx)("div",{children:"This be the wishes page..."})};var K=function(){return Object(G.jsxs)("div",{children:["Not found...",Object(G.jsx)("br",{}),Object(G.jsx)("img",{src:"404-southpark.jpg",alt:"Opps we dun' goofed..."})]})},Q=Object(f.a)({reducer:{auth:E}});var X=function(e){var t=e.component,n=e.path;return B().authenticated?Object(G.jsx)(h.b,{path:n,component:t}):Object(G.jsx)(h.a,{to:"/login"})};var Z=function(){return Object(G.jsx)(p.a,{store:Q,children:Object(G.jsx)(l.a,{children:Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(U,{}),Object(G.jsxs)(h.d,{children:[Object(G.jsx)(h.b,{exact:!0,path:"/",component:W}),Object(G.jsx)(X,{path:"/wishes",component:q}),Object(G.jsx)(h.b,{path:"/login",component:H}),Object(G.jsx)(h.b,{path:"/signup",component:M}),Object(G.jsx)(h.b,{component:K})]})]})})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,119)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(Z,{})}),document.getElementById("root")),$()},79:function(e,t,n){},81:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.11cac7ae.chunk.js.map